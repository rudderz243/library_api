# Pull down our base image (so the actual linux/windows image our app will run on)
FROM node:22-alpine

# Then we set where our files will live in the Docker contiainer
WORKDIR /usr/src/app

# Then we copy package.json (the file generated by NODE when we created our project)
# as it contains the names of all the required packages to make our project work.
COPY package*.json ./

# Install those packages, so that our API will work in the container
RUN npm i

# Once all the packages are installed, we then copy across the actual code for our API
COPY . .

# We then allow our application to talk to the outside world
EXPOSE 3000

# And we run our API (each thing in quotes represents there is a space in the command)
CMD ["npm", "run", "dev"]
